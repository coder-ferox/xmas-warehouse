@using GestioneLetterine.Classes
@{
    ViewBag.Title = "Detail";
}

@model Request
@if (Session["UserID"] != null && Session["isAdmin"] == null)
{
    <h2 style="text-align:center";>@Model.Kid's request details</h2>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Date</th>
                <th>List</th>
                <th>Request Status</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    @Model.RequestDate
                </td>
                <td>
                    @String.Join(", ", Model.Toys.Select(toy => toy.Name))
                <td>
                    @Model.GetOrderStatus()
                    <br/>
                    @Html.ActionLink("Change Status", "Update", new { orderId = Model.Id }, new { @class = "btn btn-primary" })
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row">
        @Html.ActionLink(" Back", "Index", null, new { @class = "btn btn-warning", @style = "margin-left: 20px;" })
    </div>
}
else
{
    Layout = "~/Views/Shared/Error.cshtml";
}